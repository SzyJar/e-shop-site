{"version":3,"file":"js/701.dfa7ace8.js","mappings":"+PACmBA,MAAM,S,UACrBC,EAAAA,EAAAA,GAA6C,UAAzC,wCAAoC,K,UAEtCA,EAAAA,EAAAA,GAAoB,aAAb,SAAK,K,SAEUD,MAAM,S,UAE5BC,EAAAA,EAAAA,GAAwB,aAAjB,aAAS,K,SAEUD,MAAM,S,UAEhCC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,UAAQ,EACjBC,EAAAA,EAAAA,GAAuB,cAAf,YAAM,K,GAGbD,MAAM,U,UACmBC,EAAAA,EAAAA,GAA2C,cAAnC,8BAA0B,K,SAGtDD,MAAM,W,UAChBC,EAAAA,EAAAA,GAAgC,UAA5B,2BAAuB,K,UAC3BA,EAAAA,EAAAA,GAA4C,SAAzC,yCAAqC,K,GADxCC,EACAC,G,+DArBUC,EAAAC,M,WAmBZC,EAAAA,EAAAA,IAGM,MAHNC,EAGMC,MAtBS,WAAfF,EAAAA,EAAAA,IAkBM,MAlBNG,EAkBM,CAjBJC,GACAT,EAAAA,EAAAA,GAYO,QAZAU,SAAMC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAA,IAAAC,IAAUV,EAAAW,cAAAX,EAAAW,gBAAAD,IAAY,e,CACjCE,GAAoB,SACpBf,EAAAA,EAAAA,GAAmE,SAA5DgB,KAAK,O,qCAAgBb,EAAAc,SAASC,KAAIC,GAAEC,UAAU,KAAKC,SAAA,I,iBAA9BlB,EAAAc,SAASC,QAC1Bf,EAAAmB,YAAS,WAApBjB,EAAAA,EAAAA,IAAyD,MAAzDkB,GAAyDC,EAAAA,EAAAA,IAAlBrB,EAAAmB,WAAS,oBAEhDG,GAAwB,SACxBzB,EAAAA,EAAAA,GAA4D,SAArDgB,KAAK,W,qCAAoBb,EAAAc,SAASS,SAAQP,GAAEE,SAAA,I,iBAAnBlB,EAAAc,SAASS,YAC9BvB,EAAAwB,gBAAa,WAAxBtB,EAAAA,EAAAA,IAAiE,MAAjEuB,GAAiEJ,EAAAA,EAAAA,IAAtBrB,EAAAwB,eAAa,oBAExDE,GAEM,KAER7B,EAAAA,EAAAA,GAEM,MAFN8B,EAEM,EADJC,EAAAA,EAAAA,IAAqFC,EAAA,CAAxEC,GAAG,aAAW,C,kBAAC,IAA2C,CAA3CC,K,mCAalC,GACEC,KAAAA,GACE,MAAMlB,GAAWmB,EAAAA,EAAAA,IAAI,CACnBlB,KAAM,GACNQ,SAAU,KAENtB,GAAMgC,EAAAA,EAAAA,IAAIC,aAAaC,QAAQ,QAC/BX,GAAgBS,EAAAA,EAAAA,IAAI,IACpBd,GAAYc,EAAAA,EAAAA,IAAI,IAEhBtB,EAAeyB,UACnB,IACE,MAAMC,QAAYC,EAAAA,EAAMC,KAAKC,0CAAuC1B,EAAS2B,OAC7EP,aAAaQ,QAAQ,MAAOC,KAAKC,MAAMP,EAAIQ,QAAQC,UAAUC,aAC7DC,SAASC,QACX,CAAE,MAAOC,GACHA,EAAML,QAI0B,MAAzBK,EAAML,QAAQM,QACvB3B,EAAciB,MAAQ,mBACtBtB,EAAUsB,MAAQ,IACgB,MAAzBS,EAAML,QAAQM,SACvBhC,EAAUsB,MAAQ,oBAClBjB,EAAciB,MAAQ,KARtBW,QAAQC,IAAIH,GACZ1B,EAAciB,MAAQ,wBACtBtB,EAAUsB,MAAQ,wBAQtB,CAAC,EAIH,MAAO,CACL3B,WACAU,gBACAL,YACAlB,MACAU,eAEJ,G,QC7DF,MAAM2C,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://e-shop/./src/views/Login.vue","webpack://e-shop/./src/views/Login.vue?240b"],"sourcesContent":["<template>\r\n  <div v-if=\"!jwt\" class=\"login\">\r\n    <h1>Please log in to access your Account</h1>\r\n    <form @submit.prevent=\"handleSubmit\">\r\n      <label>Name:</label>\r\n      <input type=\"text\" v-model=\"userData.name\" maxlength=\"30\" required>\r\n      <div v-if=\"userError\" class=\"error\">{{ userError }}</div>\r\n\r\n      <label>Password:</label>\r\n      <input type=\"password\" v-model=\"userData.password\" required>\r\n      <div v-if=\"passwordError\" class=\"error\">{{ passwordError }}</div>\r\n\r\n      <div class=\"submit\">\r\n        <button>Log In</button>\r\n      </div>\r\n    </form>\r\n    <div class=\"submit\">\r\n      <router-link to=\"/register\"><button>Create new Account instead</button></router-link>\r\n    </div>\r\n  </div>\r\n  <div v-else class=\"success\">\r\n    <h1>Successfully logged in!</h1>\r\n    <p>You are now ready to manage products!</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  setup() {\r\n    const userData = ref({\r\n      name: '',\r\n      password: '',\r\n    });\r\n    const jwt = ref(localStorage.getItem('jwt'));\r\n    const passwordError = ref('');\r\n    const userError = ref('');\r\n\r\n    const handleSubmit = async () => {\r\n      try {\r\n        const res = await axios.post(process.env.VUE_APP_API_URL + 'login', userData.value);\r\n        localStorage.setItem('jwt', JSON.parse(res.request.response).accessToken);\r\n        location.reload();\r\n      } catch (error) {\r\n        if(!error.request) {\r\n          console.log(error);\r\n          passwordError.value = 'An error has occurred';\r\n          userError.value = 'An error has occurred';\r\n        } else if (error.request.status === 401) {\r\n          passwordError.value = 'Invalid password';\r\n          userError.value = '';\r\n        } else if (error.request.status === 404) {\r\n          userError.value = 'Invalid user name';\r\n          passwordError.value = '';\r\n        };\r\n      };\r\n\r\n    };\r\n\r\n    return {\r\n      userData,\r\n      passwordError,\r\n      userError,\r\n      jwt,\r\n      handleSubmit\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.login {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  margin-top: 100px;\r\n}\r\nform {\r\n  width: 500px;\r\n  margin: 30px auto;\r\n  text-align: left;\r\n  padding: 40px;\r\n  border-radius: 10px;\r\n}\r\nlabel {\r\n  color: white;\r\n  display: inline-block;\r\n  margin: 25px 0 15px;\r\n  text-transform: uppercase;\r\n  letter-spacing: 1px;\r\n}\r\ninput, select {\r\n  display: block;\r\n  padding: 10px 6px;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n}\r\nbutton {\r\n  padding: 10px 20px;\r\n  margin-top: 20px;\r\n  background: white;\r\n  border: 0;\r\n  color: black;\r\n  text-transform: uppercase;\r\n  transition: transform 0.2s ease-out;\r\n}\r\nbutton:hover {\r\n  background: rgb(190, 190, 190);\r\n  cursor: pointer;\r\n}\r\n.error {\r\n  margin-top: 10px;\r\n  font-size: 0.8em;\r\n  font-weight: bold;\r\n}\r\n\r\n.success {\r\n    display: flex;\r\n    align-items: center;\r\n    text-align: center;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n    height: 70vh;\r\n}\r\nh1, p {\r\n    margin: 0;\r\n    padding: 20px;\r\n    background: white;\r\n    color: black;\r\n    width: 100%;\r\n}\r\n</style>","import { render } from \"./Login.vue?vue&type=template&id=7390cd06&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=7390cd06&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7390cd06\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_11","_hoisted_12","$setup","jwt","_createElementBlock","_hoisted_10","_hoisted_13","_hoisted_1","_hoisted_2","onSubmit","_cache","_withModifiers","args","handleSubmit","_hoisted_3","type","userData","name","$event","maxlength","required","userError","_hoisted_4","_toDisplayString","_hoisted_5","password","passwordError","_hoisted_6","_hoisted_7","_hoisted_8","_createVNode","_component_router_link","to","_hoisted_9","setup","ref","localStorage","getItem","async","res","axios","post","process","value","setItem","JSON","parse","request","response","accessToken","location","reload","error","status","console","log","__exports__","render"],"sourceRoot":""}