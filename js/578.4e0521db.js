"use strict";(self["webpackChunke_shop"]=self["webpackChunke_shop"]||[]).push([[578],{8578:function(e,t,l){l.r(t),l.d(t,{default:function(){return G}});var a=l(3396),n=l(7139);const s=e=>((0,a.dD)("data-v-2384773e"),e=e(),(0,a.Cn)(),e),u={key:0,class:"cart"},i=s((()=>(0,a._)("h1",null,"Your products",-1))),c={class:"container"},o={class:"products"},r=s((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Name"),(0,a._)("th",null,"Image"),(0,a._)("th",null,"Description"),(0,a._)("th",null,"Price"),(0,a._)("th",null,"Delete")])],-1))),d=["src"],p={key:1,class:"img"},_={key:0},g={class:"text"},v={key:1},m={key:2},k={key:3},h=["onClick"],y={class:"summary"},w=s((()=>(0,a._)("p",null,null,-1))),D=s((()=>(0,a._)("p",null,"Cart value:",-1))),C=s((()=>(0,a._)("p",null,"Cart value after tax:",-1))),b={key:0},S={class:"buttons"},f=s((()=>(0,a._)("button",null,"Go to checkout",-1))),I={key:1},x=s((()=>(0,a._)("h1",null,"Your cart is empty. ",-1))),z=s((()=>(0,a._)("p",null,"Go to the products page and add items to your cart.",-1))),A=[x,z];function F(e,t,l,s,x,z){return s.cart.length>0?((0,a.wg)(),(0,a.iD)("div",u,[i,(0,a._)("div",c,[(0,a._)("table",o,[r,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.cart,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,(0,n.zw)(e.name),1),(0,a._)("td",null,[e.image?((0,a.wg)(),(0,a.iD)("img",{key:0,class:"img",src:e.image},null,8,d)):((0,a.wg)(),(0,a.iD)("div",p,"No image"))]),e.description?((0,a.wg)(),(0,a.iD)("td",_,[(0,a._)("div",g,(0,n.zw)(e.description),1)])):((0,a.wg)(),(0,a.iD)("td",v,"-")),e.price?((0,a.wg)(),(0,a.iD)("td",m,(0,n.zw)(e.price.toFixed(2))+" Caps",1)):((0,a.wg)(),(0,a.iD)("td",k,"-")),(0,a._)("td",null,[(0,a._)("button",{onClick:e=>s.deleteOne(t)}," X ",8,h)])])))),128))])]),(0,a._)("div",y,[w,D,(0,a._)("p",{class:(0,n.C_)({"shaking-number":s.isShaking})},(0,n.zw)(s.sum.toFixed(2))+" Caps",3),C,(0,a._)("p",{class:(0,n.C_)({"shaking-number":s.isShaking})},(0,n.zw)((4*s.sum).toFixed(2))+" Caps",3),s.sum>500?((0,a.wg)(),(0,a.iD)("p",b,"Free shipping on all orders")):(0,a.kq)("",!0),(0,a._)("div",S,[(0,a._)("button",{class:"discount",onClick:t[0]||(t[0]=(...e)=>s.applyDiscount&&s.applyDiscount(...e))},"Apply discount code"),f,(0,a._)("button",{onClick:t[1]||(t[1]=(...e)=>s.deleteAll&&s.deleteAll(...e))},"Empty your cart")])])])])):((0,a.wg)(),(0,a.iD)("div",I,A))}var H=l(4870),N={setup(){const e=(0,H.iH)([]),t=(0,H.iH)(0),l=(0,H.iH)(!1),n=()=>{t.value=e.value.reduce(((e,t)=>null!==t.price?e+t.price:e),0)};(0,a.bv)((async()=>{try{const t=await localStorage.getItem("cart"),l=JSON.parse(t)||[];e.value=l,n()}catch(t){console.log(t),localStorage.removeItem("cart")}}));const s=()=>{localStorage.removeItem("cart"),e.value=[],n()},u=t=>{e.value.splice(t,1),localStorage.setItem("cart",JSON.stringify(e.value)),n()},i=()=>{t.value>.01&&(t.value=t.value-.01,l.value=!0,setTimeout((()=>{l.value=!1}),100))};return{cart:e,sum:t,isShaking:l,deleteAll:s,deleteOne:u,applyDiscount:i}}},O=l(89);const Y=(0,O.Z)(N,[["render",F],["__scopeId","data-v-2384773e"]]);var G=Y}}]);
//# sourceMappingURL=578.4e0521db.js.map