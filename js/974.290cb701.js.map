{"version":3,"file":"js/974.290cb701.js","mappings":"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","sources":["webpack://e-shop/./src/views/Manage.vue","webpack://e-shop/./src/views/Manage.vue?baee"],"sourcesContent":["<template>\r\n  <div class=\"manage\">\r\n    <h1>Add a new product to the database</h1>\r\n    <form @submit.prevent=\"handleSubmit\">\r\n\r\n    <label>Name:</label>\r\n    <input type=\"text\" v-model=\"name\" maxlength=\"30\" required placeholder=\"Enter product name (required)\">\r\n    <div v-if=\"nameError\" class=\"error\">{{ nameError }}</div>\r\n\r\n    <h1>Additional product data (optional)</h1>\r\n    <label>Price:</label>\r\n    <input type=\"number\" step=\"0.01\" v-model=\"product.price\" placeholder=0.00>\r\n\r\n    <label>Image link:</label>\r\n    <input type=\"url\" v-model=\"product.image\" placeholder=\"https://images.unsplash.com/photo-1573376670774-4427757f7963\">\r\n\r\n    <label>Description:</label>\r\n    <textarea id=\"description\" v-model=\"product.description\" placeholder=\"Enter some information about the product\"></textarea>\r\n\r\n    <label>Release date:</label>\r\n    <input type=\"date\" v-model=\"product.releaseDate\">\r\n\r\n    <label>Producer:</label>\r\n    <input type=\"text\" v-model=\"product.company\" placeholder=\"Enter company name\">\r\n\r\n    <div class=\"submit\">\r\n      <button>SUBMIT</button>\r\n    </div>\r\n    </form>\r\n    <div class=\"image\">\r\n      <img :src=\"require('@/assets/delivery.png')\" alt=\"Delivery Image\">\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { ref, getCurrentInstance } from 'vue'\r\nimport axios from 'axios'\r\n\r\n\r\nexport default {\r\nsetup() {\r\n  const name = ref('');\r\n  const product = ref({\r\n    price: null,\r\n    company: null,\r\n    releaseDate: null,\r\n    image: null,\r\n    description: null\r\n  });\r\n\r\n  const nameError = ref(null);\r\n\r\n  const instance = getCurrentInstance();\r\n  const router = instance.appContext.config.globalProperties.$router;\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      const jwtToken = localStorage.getItem('jwt');\r\n      const headers = {\r\n        Authorization: jwtToken\r\n      };\r\n      const res = await axios.post(process.env.VUE_APP_API_URL + `product/${name.value}`, product.value, { headers });\r\n      router.push({ name: 'products' });\r\n    } catch (error) {\r\n      if(!error.request) {\r\n        console.log(error);\r\n        nameError.value = '';\r\n      } else if (error.request.status === 409) {\r\n        nameError.value = 'Product already exist';\r\n      } else if (error.request.status === 401) {\r\n        localStorage.removeItem('jwt');\r\n        nameError.value = 'You are not authorized, please log in or register';\r\n        setTimeout(router.push({ name: 'login' }), 1000);\r\n      }\r\n    };\r\n  };\r\n\r\n  return {\r\n    name,\r\n    product,\r\n    nameError,\r\n    handleSubmit\r\n  }\r\n}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.image {\r\n  text-align: center;\r\n  position: absolute;\r\n  width: 50%;\r\n  height: 100vh;\r\n  border-radius: 50%;\r\n  top: 0;\r\n  left: 20%;\r\n  z-index: -99;\r\n}\r\nimg {\r\n  width: 600px;\r\n  height: 600px;\r\n  border-radius: 50%;\r\n  margin-top: 350px;\r\n  margin-left: 80%;\r\n  padding-right: 200px;\r\n}\r\nform {\r\n  width: 700px;\r\n  margin: 10px auto;\r\n  text-align: left;\r\n  padding: 40px;\r\n  border-radius: 10px;\r\n}\r\nlabel {\r\n  color: white;\r\n  display: inline-block;\r\n  margin: 25px 0 15px;\r\n  text-transform: uppercase;\r\n  letter-spacing: 1px;\r\n}\r\ninput, textarea, select {\r\n  display: block;\r\n  padding: 10px 6px;\r\n  width: 100%;\r\n  resize: none;\r\n  box-sizing: border-box;\r\n}\r\nbutton {\r\n  padding: 10px 20px;\r\n  margin-top: 20px;\r\n  background: white;\r\n  border: 0;\r\n  color: black;\r\n  text-transform: uppercase;\r\n  transition: transform 0.2s ease-out;\r\n}\r\nbutton:hover {\r\n  background: rgb(190, 190, 190);\r\n  cursor: pointer;\r\n}\r\n.error {\r\n  margin-top: 10px;\r\n  font-size: 0.8em;\r\n  font-weight: bold;\r\n}\r\n</style>","import { render } from \"./Manage.vue?vue&type=template&id=76998722&scoped=true\"\nimport script from \"./Manage.vue?vue&type=script&lang=js\"\nexport * from \"./Manage.vue?vue&type=script&lang=js\"\n\nimport \"./Manage.vue?vue&type=style&index=0&id=76998722&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-76998722\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","onSubmit","_cache","_withModifiers","args","$setup","handleSubmit","_hoisted_3","type","name","$event","maxlength","required","placeholder","nameError","_hoisted_4","_toDisplayString","_hoisted_5","_hoisted_6","step","product","price","_hoisted_7","image","_hoisted_8","id","description","_hoisted_9","releaseDate","_hoisted_10","company","_hoisted_11","_hoisted_12","src","require","alt","setup","ref","instance","getCurrentInstance","router","appContext","config","globalProperties","$router","async","jwtToken","localStorage","getItem","headers","Authorization","axios","post","value","push","error","request","status","removeItem","setTimeout","console","log","__exports__","render"],"sourceRoot":""}