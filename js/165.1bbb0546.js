"use strict";(self["webpackChunke_shop"]=self["webpackChunke_shop"]||[]).push([[165],{4165:function(e,a,i){i.r(a),i.d(a,{default:function(){return x}});var t=i(3396),s=i(7139);const l=e=>((0,t.dD)("data-v-5ded9758"),e=e(),(0,t.Cn)(),e),c={class:"container"},o=l((()=>(0,t._)("h1",null,"Choose from the variety of our products!",-1))),n={key:1,class:"products"},r=["onClick"],d=["src"],p={key:1,class:"img"},u=l((()=>(0,t._)("p",null,"No image",-1))),g=[u],m={key:2},k={key:3},w={key:2};function D(e,a,i,l,u,D){const v=(0,t.up)("Details"),y=(0,t.up)("LoadingSpinner");return(0,t.wg)(),(0,t.iD)("div",c,[l.detailsOn?((0,t.wg)(),(0,t.j4)(v,{key:0,onClose:l.detailsClose,details:l.productDetails},null,8,["onClose","details"])):(0,t.kq)("",!0),o,0!==l.products.length?((0,t.wg)(),(0,t.iD)("div",n,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(l.products,((e,a)=>((0,t.wg)(),(0,t.iD)("div",{onClick:a=>l.showDetails(e),class:"product",key:a},[(0,t._)("h2",null,(0,s.zw)(e.name),1),e.image?((0,t.wg)(),(0,t.iD)("img",{key:0,class:"img",src:e.image},null,8,d)):((0,t.wg)(),(0,t.iD)("div",p,g)),e.description?((0,t.wg)(),(0,t.iD)("p",m,(0,s.zw)(e.description),1)):(0,t.kq)("",!0),e.price?((0,t.wg)(),(0,t.iD)("p",k,"Price: "+(0,s.zw)(e.price)+" Caps",1)):(0,t.kq)("",!0)],8,r)))),128))])):((0,t.wg)(),(0,t.iD)("div",w,[(0,t.Wm)(y)]))])}i(7658);var v=i(4870),y=i(4161);const h=(0,t._)("div",{class:"loading-circle"},[(0,t._)("div",{class:"spinner"})],-1),_=(0,t._)("p",null,"Retrieving product list from server",-1);function f(e,a){return(0,t.wg)(),(0,t.iD)(t.HY,null,[h,_],64)}var C=i(89);const b={},z=(0,C.Z)(b,[["render",f]]);var I=z,S=i(9242);const q=e=>((0,t.dD)("data-v-2fa0aa14"),e=e(),(0,t.Cn)(),e),H=["src"],N={key:1,class:"img"},O=q((()=>(0,t._)("p",null,"No image",-1))),Z=[O],L={key:2},U={key:3},J=q((()=>(0,t._)("b",null,"Manufactured by:",-1))),M={key:4},P=q((()=>(0,t._)("b",null,"Released on:",-1))),R={key:5},Y=q((()=>(0,t._)("b",null,"Price:",-1)));function j(e,a,i,l,c,o){return(0,t.wg)(),(0,t.iD)("div",{class:"backdrop",onClick:a[2]||(a[2]=(...e)=>l.close&&l.close(...e))},[(0,t._)("div",{class:"product",onClick:a[1]||(a[1]=(0,S.iM)((()=>{}),["stop"]))},[(0,t._)("h2",null,(0,s.zw)(i.details.name),1),i.details.image?((0,t.wg)(),(0,t.iD)("img",{key:0,class:"img",src:i.details.image},null,8,H)):((0,t.wg)(),(0,t.iD)("div",N,Z)),i.details.description?((0,t.wg)(),(0,t.iD)("p",L,(0,s.zw)(i.details.description),1)):(0,t.kq)("",!0),i.details.company?((0,t.wg)(),(0,t.iD)("p",U,[J,(0,t.Uk)(" "+(0,s.zw)(i.details.company),1)])):(0,t.kq)("",!0),i.details.releaseDate?((0,t.wg)(),(0,t.iD)("p",M,[P,(0,t.Uk)(" "+(0,s.zw)(new Date(i.details.releaseDate).toLocaleDateString()),1)])):(0,t.kq)("",!0),i.details.price?((0,t.wg)(),(0,t.iD)("p",R,[Y,(0,t.Uk)(" "+(0,s.zw)(i.details.price)+" Caps",1)])):(0,t.kq)("",!0),(0,t._)("button",{onClick:a[0]||(a[0]=(...e)=>l.addItem&&l.addItem(...e))},"Add to cart")])])}var A={props:["details"],setup(e,{emit:a}){const i=()=>{a("close")},t=(0,v.iH)(),s=()=>{const i=localStorage.getItem("cart");try{const s=JSON.parse(i)||[];s.push(e.details),localStorage.setItem("cart",JSON.stringify(s)),t.value=s,a("close")}catch(s){console.log(s),localStorage.removeItem("cart")}};return{close:i,addItem:s}}};const E=(0,C.Z)(A,[["render",j],["__scopeId","data-v-2fa0aa14"]]);var K=E,T={components:{LoadingSpinner:I,Details:K},setup(){const e=(0,v.iH)([]),a=async()=>{try{const a=await y.Z.get("https://e-shop.redglimmer.repl.co/product");a.data.forEach((a=>{e.value.push(a)}))}catch(i){console.log(i),setTimeout(a,4e3)}};(0,t.bv)((async()=>{await a()}));const i=(0,v.iH)(!1),s=(0,v.iH)({name:"",image:"",description:"",releaseDate:"",company:"",price:""}),l=e=>{s.value={name:e.name,image:e.image,description:e.description,releaseDate:e.releaseDate,company:e.company,price:e.price},i.value=!0},c=()=>{i.value=!1};return{products:e,detailsOn:i,productDetails:s,showDetails:l,detailsClose:c}}};const W=(0,C.Z)(T,[["render",D],["__scopeId","data-v-5ded9758"]]);var x=W}}]);
//# sourceMappingURL=165.1bbb0546.js.map