{"version":3,"file":"js/388.758aaf32.js","mappings":"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","sources":["webpack://e-shop/./src/views/Cart.vue","webpack://e-shop/./src/views/Cart.vue?27b4"],"sourcesContent":["<template>\r\n    <div v-if=\"cart.length > 0\" class=\"cart\">\r\n    <h1>Your products</h1>\r\n    <div class=\"container\">\r\n        <table class=\"products\">\r\n            <thead>\r\n            <tr>\r\n                <th>Name</th>\r\n                <th>Image</th>\r\n                <th>Description</th>\r\n                <th>Price</th>\r\n                <th>Delete</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            <tr v-for=\"(product, index) in cart\" :key=\"index\">\r\n                <td>{{ product.name }}</td>\r\n                <td>\r\n                <img class=\"img\" v-if=\"product.image\" :src=\"product.image\" />\r\n                <div class=\"img\" v-else>No image</div>\r\n                </td>\r\n                <td v-if=\"product.description\"><div class=\"text\">{{ product.description }}</div></td>\r\n                <td v-else>-</td>\r\n                <td v-if=\"product.price\">{{ product.price.toFixed(2) }} Caps</td>\r\n                <td v-else>-</td>\r\n                <td><button @click=\"deleteOne(index)\"> X </button></td>\r\n            </tr>\r\n            </tbody>\r\n        </table>\r\n        <div class=\"summary\"> \r\n            <p></p>\r\n            <p>Cart value:</p>\r\n            <p :class=\"{ 'shaking-number': isShaking }\">{{ sum.toFixed(2) }} Caps</p>\r\n            <p>Cart value after tax:</p>\r\n            <p :class=\"{ 'shaking-number': isShaking }\">{{ (sum * 4).toFixed(2) }} Caps</p>\r\n            <p v-if=\"sum > 500\">Free shipping on all orders</p>\r\n            <div class=\"buttons\">\r\n              <button class=\"discount\" @click=\"applyDiscount\">Apply discount code</button>\r\n              <button >Go to checkout</button>\r\n              <button @click=\"deleteAll\">Empty your cart</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    </div>\r\n  <div v-else>\r\n    <h1>Your cart is empty. </h1>\r\n    <p>Go to the products page and add items to your cart.</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue'\r\n\r\nexport default {\r\n    setup() {\r\n        const cart = ref([]);\r\n        const sum = ref(0);\r\n        const isShaking = ref(false)\r\n        const calcSum = () => {\r\n            sum.value = cart.value.reduce((total, product) => {\r\n                if (product.price !== null) {\r\n                    return total + product.price;\r\n                }\r\n                return total;\r\n            }, 0);\r\n        };\r\n\r\n        onMounted(async () => {\r\n            try {\r\n                const cartString = await localStorage.getItem('cart');\r\n                const cartArray = JSON.parse(cartString) || [];\r\n                cart.value = cartArray;\r\n                calcSum();\r\n            } catch (error) {\r\n                console.log(error);\r\n                localStorage.removeItem('cart');\r\n            };\r\n        });\r\n        \r\n        const deleteAll = () => {\r\n            localStorage.removeItem('cart');\r\n            cart.value = [];\r\n            calcSum();\r\n        };\r\n\r\n        const deleteOne = (index) => {\r\n            cart.value.splice(index, 1);\r\n            localStorage.setItem('cart', JSON.stringify(cart.value));\r\n            calcSum();\r\n        };\r\n\r\n        const applyDiscount = () => {\r\n            if (sum.value > 0.01) {\r\n                sum.value = sum.value - 0.01;\r\n                isShaking.value = true;\r\n                setTimeout(() => {\r\n                    isShaking.value = false;\r\n                }, 100);\r\n            };\r\n        };\r\n\r\n        return {\r\n            cart,\r\n            sum,\r\n            isShaking ,\r\n            deleteAll,\r\n            deleteOne,\r\n            applyDiscount\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n@import '../assets/styles/cart.scss'\r\n</style>","import { render } from \"./Cart.vue?vue&type=template&id=1b065098&scoped=true\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\n\nimport \"./Cart.vue?vue&type=style&index=0&id=1b065098&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1b065098\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_22","_hoisted_23","$setup","cart","length","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_Fragment","_renderList","product","index","key","_toDisplayString","name","image","src","_hoisted_7","description","_hoisted_8","_hoisted_9","_hoisted_10","price","_hoisted_11","toFixed","_hoisted_12","onClick","$event","deleteOne","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_normalizeClass","isShaking","sum","_hoisted_17","_hoisted_18","_hoisted_19","_cache","args","applyDiscount","_hoisted_20","deleteAll","_hoisted_21","_hoisted_24","setup","ref","calcSum","value","reduce","total","onMounted","async","cartString","localStorage","getItem","cartArray","JSON","parse","error","console","log","removeItem","splice","setItem","stringify","setTimeout","__exports__","render"],"sourceRoot":""}