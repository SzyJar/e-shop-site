{"version":3,"file":"js/390.43559aa8.js","mappings":"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","sources":["webpack://e-shop/./src/views/Cart.vue","webpack://e-shop/./src/views/Cart.vue?27b4"],"sourcesContent":["<template>\r\n    <div v-if=\"cart.length > 0\" class=\"cart\">\r\n    <h1>Your products</h1>\r\n    <div class=\"container\">\r\n        <table class=\"products\">\r\n            <thead>\r\n            <tr>\r\n                <th>Name</th>\r\n                <th>Image</th>\r\n                <th>Description</th>\r\n                <th>Price</th>\r\n                <th>Delete</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            <tr v-for=\"(product, index) in cart\" :key=\"index\">\r\n                <td>{{ product.name }}</td>\r\n                <td>\r\n                <img class=\"img\" v-if=\"product.image\" :src=\"product.image\" />\r\n                <div class=\"img\" v-else>No image</div>\r\n                </td>\r\n                <td v-if=\"product.description\">{{ product.description }}</td>\r\n                <td v-else>-</td>\r\n                <td v-if=\"product.price\">{{ product.price }} Caps</td>\r\n                <td v-else>-</td>\r\n                <td><button @click=\"deleteOne(index)\"> X </button></td>\r\n            </tr>\r\n            </tbody>\r\n        </table>\r\n        <div class=\"summary\">\r\n            <button @click=\"deleteAll\">DELETE ALL</button>\r\n            <p></p>\r\n            <p>Cart value:</p>\r\n            <p :class=\"{ 'shaking-number': isShaking }\">{{ sum.toLocaleString() }} Caps</p>\r\n            <p>Cart value after tax:</p>\r\n            <p :class=\"{ 'shaking-number': isShaking }\">{{ (sum * 4).toLocaleString() }} Caps</p>\r\n            <p v-if=\"sum > 500\">Free shipping on all orders</p>\r\n            <button class=\"discount\" @click=\"applyDiscount\">Apply discount code</button>\r\n        </div>\r\n    </div>\r\n    </div>\r\n  <div v-else>\r\n    <h1>Your cart is empty. </h1>\r\n    <p>Go to the products page and add items to your cart.</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue'\r\n\r\nexport default {\r\n    setup() {\r\n        const cart = ref([]);\r\n        const sum = ref(0);\r\n        const isShaking = ref(false)\r\n        const calcSum = () => {\r\n            sum.value = cart.value.reduce((total, product) => {\r\n                if (product.price !== null) {\r\n                    return total + product.price;\r\n                }\r\n                return total;\r\n            }, 0);\r\n        };\r\n\r\n        onMounted(async () => {\r\n            try {\r\n                const cartString = await localStorage.getItem('cart');\r\n                const cartArray = JSON.parse(cartString) || [];\r\n                cart.value = cartArray;\r\n                calcSum();\r\n            } catch (error) {\r\n                console.log(error);\r\n                localStorage.removeItem('cart');\r\n            };\r\n        });\r\n        \r\n        const deleteAll = () => {\r\n            localStorage.removeItem('cart');\r\n            cart.value = [];\r\n            calcSum();\r\n        };\r\n\r\n        const deleteOne = (index) => {\r\n            cart.value.splice(index, 1);\r\n            localStorage.setItem('cart', JSON.stringify(cart.value));\r\n            calcSum();\r\n        };\r\n\r\n        const applyDiscount = () => {\r\n            if (sum.value > 0.01) {\r\n                sum.value = sum.value - 0.01;\r\n                isShaking.value = true;\r\n                setTimeout(() => {\r\n                    isShaking.value = false;\r\n                }, 100);\r\n            };\r\n        };\r\n\r\n        return {\r\n            cart,\r\n            sum,\r\n            isShaking ,\r\n            deleteAll,\r\n            deleteOne,\r\n            applyDiscount\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\nh1, p {\r\n    margin: 0;\r\n    margin-bottom: 20px;\r\n    padding: 20px;\r\n    background: white;\r\n    color: black;\r\n    width: 100%;\r\n}\r\n\r\n.container {\r\n    display: flex;\r\n    align-content: space-between;\r\n    gap: 40px;\r\n    width: 100%;\r\n    margin: 0;\r\n}\r\n\r\n.cart {\r\n    margin: 0;\r\n    margin-top: 20px;\r\n    margin-bottom: 100px;   \r\n}\r\n\r\n.summary {\r\n    border: 2px solid white;\r\n    width: 30%;\r\n    height: 380px;\r\n    p {\r\n        width: 90%;\r\n        color: white;\r\n        background: transparent;\r\n        text-align: left;\r\n        margin: 0;\r\n        padding: 0;\r\n        padding-left: 15px;\r\n        margin-top: 15px;\r\n    }\r\n}\r\n\r\n.products {\r\n    margin-left: 10px;\r\n    width: 65%;\r\n    border-collapse: collapse;\r\n    border: 1px solid #ccc;\r\n}\r\n\r\n.products th,\r\n.products td {\r\n    padding: 10px;\r\n    border: 1px solid white;\r\n    color: white;\r\n    height: 100px;\r\n}\r\n\r\n.products th {\r\n    background-color: white;\r\n    font-weight: bold;\r\n    color: black;\r\n    height: 40px;\r\n}\r\n\r\n.products img {\r\n    max-width: 100px;\r\n    max-height: 100px;\r\n}\r\n\r\nbutton {\r\n    padding: 10px 20px;\r\n    margin: 20px auto;\r\n    font-size: 150%;\r\n    background: white;\r\n    border: 0;\r\n    color: black;\r\n    text-transform: uppercase;\r\n    transition: ease;\r\n}\r\n\r\n.discount {\r\n     font-size: 70%;\r\n}\r\n\r\n.shaking-number {\r\n      animation: shake 0.1s 1;\r\n}\r\n\r\n@keyframes shake {\r\n    0%, 100% {\r\n        transform: translate(0);\r\n    }\r\n    25%, 75% {\r\n        transform: translate(-2px, -2px);\r\n    }\r\n    50% {\r\n        transform: translate(2px, 2px);\r\n    }\r\n}\r\n\r\nbutton:hover {\r\n    background: rgb(190, 190, 190);\r\n    cursor: pointer;\r\n}\r\nbutton:active {\r\n    background: rgb(150, 150, 150);\r\n    transform: scale(0.99);\r\n    cursor: pointer;\r\n}\r\n</style>","import { render } from \"./Cart.vue?vue&type=template&id=3d528774&scoped=true\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\n\nimport \"./Cart.vue?vue&type=style&index=0&id=3d528774&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3d528774\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_19","_hoisted_20","$setup","cart","length","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_Fragment","_renderList","product","index","key","_toDisplayString","name","image","src","_hoisted_7","description","_hoisted_8","_hoisted_9","price","_hoisted_10","_hoisted_11","onClick","$event","deleteOne","_hoisted_12","_hoisted_13","_cache","args","deleteAll","_hoisted_14","_hoisted_15","_normalizeClass","isShaking","sum","toLocaleString","_hoisted_16","_hoisted_17","applyDiscount","_hoisted_18","_hoisted_21","setup","ref","calcSum","value","reduce","total","onMounted","async","cartString","localStorage","getItem","cartArray","JSON","parse","error","console","log","removeItem","splice","setItem","stringify","setTimeout","__exports__","render"],"sourceRoot":""}