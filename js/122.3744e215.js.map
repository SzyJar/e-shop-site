{"version":3,"file":"js/122.3744e215.js","mappings":"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","sources":["webpack://e-shop/./src/views/Register.vue","webpack://e-shop/./src/views/Register.vue?157d"],"sourcesContent":["<template>\r\n  <div v-if=\"!jwt\" class=\"login\">\r\n    <h1>Register new Account</h1>\r\n    <form @submit.prevent=\"handleSubmit\">\r\n      <label>Name:</label>\r\n      <input type=\"text\" v-model=\"userData.name\" maxlength=\"30\" required>\r\n      <div v-if=\"userError\" class=\"error\">{{ userError }}</div>\r\n\r\n      <label>Password:</label>\r\n      <input type=\"password\" v-model=\"userData.password\" required>\r\n      <div v-if=\"passwordError\" class=\"error\">{{ passwordError }}</div>\r\n\r\n      <label>Repeat password:</label>\r\n      <input type=\"password\" v-model=\"repeatPassword\" required>\r\n      <div v-if=\"passwordError\" class=\"error\">{{ passwordError }}</div>\r\n\r\n      <div class=\"submit\">\r\n        <button>Register</button>\r\n      </div>\r\n    </form>\r\n    <div class=\"submit\">\r\n      <router-link to=\"/login\"><button>Use existing Account instead</button></router-link>\r\n    </div>\r\n  </div>\r\n  <div v-else class=\"success\">\r\n    <h1>Successfully Registered!</h1>\r\n    <p>You are now ready to manage products!</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  setup() {\r\n    const userData = ref({\r\n      name: '',\r\n      password: '',\r\n    });\r\n    const jwt = ref(localStorage.getItem('jwt'));\r\n    const repeatPassword = ref('');\r\n    const passwordError = ref('');\r\n    const userError = ref('');\r\n\r\n    const signupUser = async () => {\r\n      try {\r\n        const res = await axios.post(process.env.VUE_APP_API_URL + 'signup', userData.value);\r\n        localStorage.setItem('jwt', JSON.parse(res.request.response).accessToken);\r\n        location.reload();\r\n      } catch (error) {\r\n        if(!error.request) {\r\n          console.log(error);\r\n          passwordError.value = 'An error has occurred';\r\n          userError.value = 'An error has occurred';\r\n        } else if (error.request.status === 409) {\r\n          userError.value = 'Username already exists';\r\n          passwordError.value = '';\r\n        };\r\n      };\r\n    };\r\n\r\n    const handleSubmit = () => {\r\n      if (userData.value.password.length < 8) {\r\n          passwordError.value = 'Passwords should be at least 8 characters long';\r\n      } else if (userData.value.password !== repeatPassword.value) {\r\n          passwordError.value = 'Password does not match';\r\n      } else {\r\n          passwordError.value = null;\r\n          signupUser();\r\n      };\r\n    };\r\n\r\n    return {\r\n      userData,\r\n      passwordError,\r\n      repeatPassword,\r\n      userError,\r\n      jwt,\r\n      handleSubmit\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.login {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  margin-top: 100px;\r\n}\r\nform {\r\n  width: 500px;\r\n  margin: 30px auto;\r\n  text-align: left;\r\n  padding: 40px;\r\n  border-radius: 10px;\r\n}\r\nlabel {\r\n  color: white;\r\n  display: inline-block;\r\n  margin: 25px 0 15px;\r\n  text-transform: uppercase;\r\n  letter-spacing: 1px;\r\n}\r\ninput, select {\r\n  display: block;\r\n  padding: 10px 6px;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n}\r\nbutton {\r\n  padding: 10px 20px;\r\n  margin-top: 20px;\r\n  background: white;\r\n  border: 0;\r\n  color: black;\r\n  text-transform: uppercase;\r\n  transition: transform 0.2s ease-out;\r\n}\r\nbutton:hover {\r\n  background: rgb(190, 190, 190);\r\n  cursor: pointer;\r\n}\r\n.error {\r\n  margin-top: 10px;\r\n  font-size: 0.8em;\r\n  font-weight: bold;\r\n}\r\n\r\n.success {\r\n    display: flex;\r\n    align-items: center;\r\n    text-align: center;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n    height: 70vh;\r\n}\r\nh1, p {\r\n    margin: 0;\r\n    padding: 20px;\r\n    background: white;\r\n    color: black;\r\n    width: 100%;\r\n}\r\n</style>","import { render } from \"./Register.vue?vue&type=template&id=6e1a1fdd&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=6e1a1fdd&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6e1a1fdd\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_13","_hoisted_14","$setup","jwt","_createElementBlock","_hoisted_12","_hoisted_15","_hoisted_1","_hoisted_2","onSubmit","_cache","_withModifiers","args","handleSubmit","_hoisted_3","type","userData","name","$event","maxlength","required","userError","_hoisted_4","_toDisplayString","_hoisted_5","password","passwordError","_hoisted_6","_hoisted_7","repeatPassword","_hoisted_8","_hoisted_9","_hoisted_10","_createVNode","_component_router_link","to","_hoisted_11","setup","ref","localStorage","getItem","signupUser","async","res","axios","post","process","value","setItem","JSON","parse","request","response","accessToken","location","reload","error","status","console","log","length","__exports__","render"],"sourceRoot":""}